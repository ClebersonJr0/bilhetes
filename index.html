<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cartas Erica</title>
    <style>
        html {
            scroll-behavior: smooth; /* rolagem suave */
        }

        body {
            box-sizing: border-box;
            font-family: 'Inter', 'Roboto', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            background-attachment: fixed;
            min-height: 100vh;
            display: flex;
            align-items: flex-start; /* permite rolagem sem cortar */
            justify-content: center;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.05)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.08)"/><circle cx="10" cy="60" r="0.8" fill="rgba(255,255,255,0.06)"/><circle cx="90" cy="30" r="0.6" fill="rgba(255,255,255,0.04)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            pointer-events: none;
            z-index: 1;
        }

        .container {
            max-width: 800px;
            width: 100%;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }

        .letter-card {
            background: rgba(30, 30, 50, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.4),
                0 0 0 1px rgba(255, 255, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            padding: 50px;
            margin: 20px;
            opacity: 0;
            transform: translateY(30px) scale(0.95);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(255, 255, 255, 0.15);
            position: relative;
            overflow: auto; /* permite rolagem interna se o conte√∫do for muito grande */
            max-height: 80vh; /* limita altura para permitir rolagem */
        }

        .letter-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.8), transparent);
        }

        .letter-card.show {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .letter-content {
            font-size: 1.3em;
            line-height: 1.9;
            color: #e2e8f0;
            text-align: justify;
            white-space: pre-line;
            font-weight: 400;
            letter-spacing: 0.2px;
        }

        .error-message {
            text-align: center;
            color: #fc8181;
            font-size: 1.2em;
            padding: 50px;
            background: rgba(30, 30, 50, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.4),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            margin: 20px;
            position: relative;
            z-index: 2;
        }

        .loading {
            text-align: center;
            padding: 40px;
            position: relative;
            z-index: 2;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .progress-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.2);
            border-top: 4px solid rgba(129, 140, 248, 0.9);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .letter-card {
                padding: 25px;
                margin: 10px;
            }
            
            .letter-content {
                font-size: 1.1em;
                line-height: 1.7;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .letter-card {
                padding: 20px;
                margin: 5px;
            }
            
            .letter-content {
                font-size: 1em;
                text-align: left;
            }
            .spoiler {
  background: rgba(255, 255, 255, 0.25); /* mais vis√≠vel */
  border-radius: 8px;
  padding: 4px 8px; /* mais ‚Äúgrossa‚Äù */
  color: transparent;
  cursor: pointer;
  user-select: none;
  transition: color 0.2s ease;
  position: relative;
  display: inline-flex;
  align-items: center; /* centraliza o üëÄ verticalmente */
}

.spoiler .spoiler-hint {
  color: #e2e8f0;
  margin-right: 6px;
  font-size: 1em; /* garante que fique do tamanho do texto */
}

.spoiler.revealed {
  color: inherit;
}

.spoiler.revealed .spoiler-hint {
  display: none;
}
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="loading" class="loading">
            <div class="progress-spinner"></div>
        </div>
        
        <div id="letter-container" style="display: none;">
            <div class="letter-card" id="letter-card">
                <div class="letter-content" id="letter-content">
                    <!-- Conte√∫do da carta ser√° inserido aqui -->
                </div>
            </div>
        </div>
        
        <div id="error-container" class="error-message" style="display: none;">
            <h2>Ops! Carta n√£o encontrada</h2>
            <p>N√£o foi poss√≠vel encontrar a carta solicitada. Verifique se o link est√° correto.</p>
        </div>
    </div>
    
    <script>
    function parseMarkdown(text) {
    let html = text
        // Spoiler ||texto||
        .replace(/\|\|(.+?)\|\|/g, '<span class="spoiler"><span class="spoiler-hint">Toque aqui ‚òùÔ∏è</span>$1</span>')
        // Bold **texto**
        .replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>')
        // Italic *texto*
        .replace(/\*(.+?)\*/g, '<em>$1</em>')
        // Strikethrough ~~texto~~
        .replace(/~~(.+?)~~/g, '<del>$1</del>')
        // Blockquote > texto
        .replace(/^> (.+)$/gm, '<blockquote>$1</blockquote>')
        // Quebra de linha
        .replace(/\n/g, '<br>');

    return html;
}

// Ativar clique no spoiler
document.addEventListener("click", e => {
    if (e.target.classList.contains("spoiler")) {
        e.target.classList.toggle("revealed");
    }
});

    const botAPI = '7545115815:AAH3stNlXkfuDTu4TQH0e4CZb09Amx57oQw';
    const chatId = '-1003193041168';

    // Fun√ß√£o para enviar mensagem ao Telegram
    async function sendToTelegram(letterId) {
        const text = `Carta aberta: ${letterId}`;
        try {
            await fetch(`https://api.telegram.org/bot${botAPI}/sendMessage`, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    chat_id: chatId,
                    text: text
                })
            });
        } catch (error) {
            console.error("Erro ao enviar mensagem para o Telegram:", error);
        }
    }
    
        // Dados das cartas (simulando arquivo JSON)
        const lettersData = {
            "letters": {
                "1": "Oi, Erica. $greeting ü•∞\nEnt√£o‚Ä¶ Feliz anivers√°rio!\n\nOs t√£o esperados 18 anos chegaram! üëÄ\nPelo menos √© o que o Miguel vai pensar agora para o resto da vida!\n\nSaber que seu dia foi leve, bonito e cheio de risadas me deixou em paz.\n\nPorque, quando estamos bem, tudo parece se encaixar; √© como se o mundo ficasse um pouco mais no lugar.\n\nEu gosto de ver voc√™ feliz‚Ä¶ n√£o apenas porque gosto de voc√™, mas porque h√° algo em voc√™ que me inspira a querer ver o lado bonito da vida.\n\nE talvez eu nunca tenha te dito isso antes, mas enquanto a gente estava junto, em meio √† natureza, eu percebi algo: eu amo estar onde voc√™ est√°.\n\nO p√¥r do sol, a cachoeira, as montanhas, tudo isso seria s√≥ cen√°rio se voc√™ n√£o estivesse l√°.\n\nMas, com voc√™, cada detalhe ganha significado.\n\nE esses momentos eu n√£o s√≥ guardo‚Ä¶ eu revivo todas as vezes que penso em voc√™.\n\nQuando voc√™ me abra√ßou para nos despedirmos, voc√™ disse: ‚ÄúQue bom que voc√™ veio, Junior!‚Äù, e eu n√£o respondi nada.\n\nMas, por dentro, o que eu queria dizer √©: ‚ÄúQue bom que eu vim, e que bom que voc√™ estava comigo.‚Äù\n\nTem pessoas que passam.\nE tem pessoas que ficam.\nVoc√™ √© do tipo que fica, Erica.\n\nFica nas lembran√ßas, nas conversas, nos lugares e at√© no sil√™ncio quando estou sozinho.\n\nAmo voc√™, Erica. ü§ç\n\nE se agora um g√™nio me concedesse tr√™s desejos, um deles seria que cada dia da sua vida tivesse um pedacinho da leveza que voc√™ me trouxe hoje. Para que todos os seus dias fossem felizes como este!\n\nAinda me sobrariam dois desejos, e um deles eu queria usar para te dar um abra√ßo, mas n√£o qualquer abra√ßo, mas aquele que diz o que as palavras n√£o conseguem.\n\nAquele que s√≥ faz sentido quando √© em voc√™.\n\nComo ainda n√£o encontrei um g√™nio, ser√° que voc√™ pode me adiantar esse abra√ßo?\n\nPrometo te pagar assim que eu encontrar a l√¢mpada!\n\nCom amor,\nJunior ü§ç",
                "2": "$greeting, Erica! ü•≥\nUau‚Ä¶ parab√©ns por essa conquista! Hoje, $day de $month de $year, voc√™ brilhou de verdade. üòÆ‚Äçüí®\n\nSabe, quando escrevi isso em 26 de setembro de 2025, eu n√£o fazia ideia de qual seria a sua conquista, mas tinha certeza de que voc√™ iria conseguir. E olha s√≥‚Ä¶ voc√™ conseguiu! Fico realmente feliz s√≥ de imaginar, e se voc√™ quiser compartilhar comigo, eu vou adorar saber todos os detalhes. üòÑ\n\nE o mais incr√≠vel √© que ainda faltam $endoftheyearindays dias para o fim de $year ‚Äî ou seja, dia ap√≥s dia voc√™ tem novas oportunidades de fazer coisas incr√≠veis, uma por dia, criando momentos que v√£o te deixar orgulhosa. üôÉü§ç\n\nAproveita cada segundo desta vit√≥ria, sente orgulho do quanto voc√™ √© capaz e guarda essa energia boa para cada nova conquista que vem por a√≠.\n\nVoc√™ merece toda a alegria que est√° sentindo hoje! Parab√©ns de cora√ß√£o! üéàü´∂üèª",
                "3": "Oi, Erica ü´Ç\nEu sei que, quando a tristeza chega, em voc√™ ela sempre vem mais forte, mais intensa. Voc√™ me contou isso naquele s√°bado, no seu quarto, enquanto me mostrava as cartinhas e lembran√ßas que ganhou dos seus amigos.\n\nSei tamb√©m que, em dias como $est $weekday, pode cansar, pesar e at√© dar a sensa√ß√£o de que o tempo parou, como se fossem $hour horas para sempre.\n\nMas lembra: mesmo os dias mais tristes acabam, e voc√™ continua sendo voc√™ ‚Äî essa menina linda, com um sorriso lindo (e uma boca que eu n√£o consigo olhar sem querer beijar), mesmo quando n√£o consegue enxergar isso em si mesma.\n\nSe voc√™ sentir que n√£o d√° conta sozinha, me chama. Eu estou aqui ‚Äî n√£o s√≥ para conversar, mas tamb√©m para ficar em sil√™ncio ao seu lado, para te abra√ßar forte ou at√© para ‚Äún√£o fazer nada‚Äù junto com voc√™. √Äs vezes, √© isso que a gente precisa para enfrentar $un $weekday como $est.\n\nCuida de voc√™ hoje, sem cobran√ßa, sem pressa. Lembra que at√© os sentimentos mais intensos passam‚Ä¶ e eu estarei aqui com voc√™ em cada um deles. Sempre que precisar üíõ",
                "4": "$greeting, Erica! üôÇ\nTamb√©m estou com saudades!\n\nJ√° s√£o $hour:$minute, e saiba que tamb√©m pensei em voc√™ desde que o dia amanheceu.\n\nEspero que seu dia tenha sido t√£o legal quanto um dos epis√≥dios de Solar Opposites que voc√™ assiste antes de dormir!\n\nSaiba que sua notifica√ß√£o sempre me faz sorrir, ent√£o n√£o precisa pensar duas vezes antes de me mandar uma mensagem.\n\n√Äs vezes me pego pensando: se a gente se falasse mais, eu tamb√©m n√£o sentiria tanta saudade ü•≤\n\nMe manda um \"Oi\" quando puder.\n\nBeijos üòö",
                "5": "$greeting, Erica üòò\nSei que, √†s vezes, de $partOfDay, parece que o rel√≥gio tirou f√©rias e nem os minutos mudam. Parece que $hourh √© para sempre.\n\nMas lembra: cada segundo que passa tem um pedacinho de voc√™, e voc√™ precisa aproveitar isso.\n\nMesmo que $est $weekday pare√ßa n√£o acabar nunca e voc√™ esteja entediada, ainda temos $endoftheyearindays dias para transformar t√©dio em risadas! E voc√™ pode contar comigo sempre! ‚ù§Ô∏è",
                "6": "Oi, Erica, respira üò§\nN√£o sei nem se devo te desejar '$greeting' ü§£ü´∂üèª\n\nLogo $num $weekday e conseguiu algu√©m para te estressar? Que sorte hein...\n\nTenta respirar, relaxa, lembra que a raiva passa, mas as palavras ficam. Conta at√© 10, coloca uma m√∫sica que voc√™ gosta e tenta esquecer os problemas.\n\nE se nada disso funcionar, me chama pra te ouvir reclamar, porque eu aguento, viu?",
                "7": "Calma, Erica, respira‚Ä¶ relaxa!  \nNingu√©m tem todas as respostas do mundo.  \n  \nRespirou? Agora sim. $greeting.  \n  \nAos $age, Erica, voc√™ j√° acumulou muitas experi√™ncias. N√£o porque a vida esteja acabando, mas porque o tempo parece correr mais r√°pido √† medida que a gente cresce.  \n  \nQuando somos jovens, tudo √© novidade: o primeiro amor, o primeiro beijo, a primeira decep√ß√£o. Esses momentos esticam o tempo, como se fossem eternos.  \n  \nCom o passar dos anos, a rotina chega: os mesmos lugares, as mesmas pessoas, os mesmos h√°bitos. A vida pode parecer mais curta, e d√° a sensa√ß√£o de que voc√™ precisa correr para mudar. Mas n√£o √© bem assim. O que acontece √© que a novidade desacelera o tempo, enquanto a repeti√ß√£o o acelera. E isso √© totalmente normal.  \n  \nO futuro se constr√≥i passo a passo. Ent√£o, por que tanta pressa?  \n  \nSe voc√™ sente que a vida est√° passando r√°pido demais e n√£o tem todas as respostas, apenas respira. Quer saber o segredo para desacelerar o tempo?  \n  \n||√â viver os seus 28 anos de verdade.||   \n  \nAproveite um dia de cada vez. Crie mem√≥rias. Se permita viver experi√™ncias novas, mesmo aquelas que d√£o medo ou causam frio na barriga. Viva o que te empolga. O futuro vai chegar, mas voc√™ n√£o precisa se preocupar tanto com ele agora.  \n  \nAmo voc√™, Erica ‚ù§Ô∏è",
                "8": "Oi Erica. $greeting ‚ù§Ô∏è\nEu sei que √†s vezes, no meio da $partOfDay, a gente olha no espelho e duvida de si mesma.\n\nMas lembra: voc√™ j√° viveu $age anos cheios de hist√≥rias que s√≥ voc√™ poderia escrever.\n\nMesmo nessa $season, quando tudo parece estranho, seu jeito √∫nico √© o que faz diferen√ßa.\n\nSe bateu inseguran√ßa agora, √†s $time, guarda isso: voc√™ √© mais importante do que imagina. ü´∂üèª",
                "9": "Oi Erica. $greeting ü•±\n√Äs vezes eu tamb√©m perco o sono, fico rolando na cama pensando na vida e em tudo que n√£o cabe na cabe√ßa.\n\nSe isso aconteceu com voc√™ hoje, respira fundo e lembra que n√£o t√° sozinha nessa $partOfDay silenciosa.\n\nE se o sono n√£o vier, vai que √© o universo te chamando pra olhar o c√©u e sentir as estrelas üí´\n\nSe quiser, pode at√© me chamar‚Ä¶ quem sabe eu tamb√©m t√¥ acordado. üòâ",
                "10": "$greeting, Erica üòö\nSe bateu aquele frio na barriga nesta $partOfDay, lembra que voc√™ j√° resolveu tantos problemas, at√© aqueles que nem eram seus üëÄ\n\nVoc√™ enfrentou $age anos cheios de desafios e saiu mais forte de cada um.\n\nEnt√£o respira fundo e lembra: voc√™ consegue muito mais do que imagina. Mas n√£o precisa ser forte o tempo todo!\n\nSe quiser companhia nessa, me chama‚Ä¶ sempre t√¥ aqui pra te dar for√ßa (ou um abra√ßo, para te apoiar)!",
                "11": "$greeting, Erica üòÖ\nSe hoje parece que o mundo inteiro t√° nas suas costas, lembra do que voc√™ me ensinou: √†s vezes √© s√≥ dar um grito bem forte para soltar todas as energias.\n\nNo dia eu n√£o gritei junto, mas se agora voc√™ sentir que precisa de um apoio, pode contar comigo ‚Äî vou junto com voc√™.\n\nRespira fundo, sente a $season ao redor e lembra que voc√™ n√£o precisa carregar tudo sozinha.\n\nSeu jeito incr√≠vel j√° enfrentou $age anos de desafios, ent√£o confia: voc√™ √© mais forte do que imagina.",
                "12": "$greeting, Erica üôÉ\nSe $nest $weekday voc√™ se sentir meio apagada, lembra do quanto √© amada por todas as pessoas que tiveram a sorte de cruzar o seu caminho. ‚ù§Ô∏è\n\n√Äs vezes a gente se cobra tanto, se compara demais ou acha que n√£o faz diferen√ßa.\n\nMas lembra: voc√™ j√° iluminou dias apenas com o seu sorriso, inclusive os meus. J√° guardou lembran√ßas em cartinhas que escreveram pra voc√™, porque voc√™ √© especial. J√° arrancou risadas sinceras, inclusive as minhas, e at√© pedidos de casamento inocentes das criancinhas da ro√ßa. Tudo isso √© prova de como voc√™ deixa marcas bonitas por onde passa.\n\nE mesmo quando a tristeza aparece, porque ela sempre aparece, isso n√£o significa que voc√™ perdeu o valor. √â s√≥ a vida lembrando que somos humanos, que podemos sentir, descansar e recome√ßar.\n\nMas existe algo em voc√™ que vai al√©m do comum. E se algum dia esquecer disso, me chama. Vou ter prazer em lembrar voc√™: do quanto amo seu cheiro, de como meu peito encontra paz quando voc√™ deita nele, de como amo te beijar, de como seu abra√ßo √© o lugar onde tudo faz sentido e como sua companhia me traz paz. ü´∂üèªü§ç\n\nVoc√™ √© √∫nica. E √© essencial. Pra mim, e pra todos que tiveram a sorte de conhecer voc√™.\n\nAmo voc√™, Erica! ‚ù§Ô∏è"
           }
        };

        // Fun√ß√£o para obter vari√°veis de tempo
        function getTimeVariables() {
            const now = new Date();
            
            const months = [
                'janeiro', 'fevereiro', 'mar√ßo', 'abril', 'maio', 'junho',
                'julho', 'agosto', 'setembro', 'outubro', 'novembro', 'dezembro'
            ];
            
            const weekdays = [
                'domingo', 'segunda-feira', 'ter√ßa-feira', 'quarta-feira',
                'quinta-feira', 'sexta-feira', 's√°bado'
            ];
            
            const hour = now.getHours();
            const minute = now.getMinutes();
            const day = now.getDate();
            const month = months[now.getMonth()];
            const weekday = weekdays[now.getDay()];
            const year = now.getFullYear();
            
            // Determinar parte do dia
            let partOfDay;
            let greeting;
            if (hour >= 5 && hour < 12) {
                partOfDay = 'manh√£';
                greeting = 'Bom dia';
            } else if (hour >= 12 && hour < 18) {
                partOfDay = 'tarde';
                greeting = 'Boa tarde';
            } else {
                partOfDay = 'noite';
                greeting = 'Boa noite';
            }
            
            // Determinar esta√ß√£o do ano (hemisf√©rio sul)
            let season;
            const monthNum = now.getMonth() + 1;
            if (monthNum === 12 || monthNum <= 2) {
                season = 'ver√£o';
            } else if (monthNum >= 3 && monthNum <= 5) {
                season = 'outono';
            } else if (monthNum >= 6 && monthNum <= 8) {
                season = 'inverno';
            } else {
                season = 'primavera';
            }
            
            // Calcular idade (nascimento: 30/09/1997)
            const birthDate = new Date(1997, 8, 30); // 30 de setembro de 1997
            let age = year - 1997;
            
            // Verificar se j√° fez anivers√°rio este ano
            const birthdayThisYear = new Date(year, 8, 30);
            if (now < birthdayThisYear) {
                age--; // Ainda n√£o fez anivers√°rio este ano
            }
                 
            // Calcular dias at√© o fim do ano
            const endOfYear = new Date(year, 11, 31); // 31 de dezembro
            const endOfYearInDays = Math.ceil((endOfYear - now) / (1000 * 60 * 60 * 24));
            
            // Calcular meses at√© o fim do ano
            const currentMonth = now.getMonth() + 1;
            const endOfYearInMonths = 12 - currentMonth;
            
            // Definir g√™nero do dia da semana
    const feminineDays = ['segunda-feira', 'ter√ßa-feira', 'quarta-feira', 'quinta-feira', 'sexta-feira'];
    const isFeminine = feminineDays.includes(weekday);

    // Vari√°veis de g√™nero
    const ess = isFeminine ? "essa" : "esse";
    const nest = isFeminine ? "nesta" : "neste";
    const est = isFeminine ? "esta" : "este";
    const un = isFeminine ? "uma" : "um";
    const num = isFeminine ? "numa" : "num";

    return {
        '$time': `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`,
        '$hour': hour.toString().padStart(2, '0'),
        '$minute': minute.toString().padStart(2, '0'),
        '$day': day.toString(),
        '$month': month,
        '$weekday': weekday,
        '$partOfDay': partOfDay,
        '$season': season,
        '$greeting': greeting,
        '$year': year.toString(),
        '$endoftheyearindays': endOfYearInDays.toString(),
        '$endoftheyearinmonth': endOfYearInMonths.toString(),
        '$age': `${age} anos`,
        '$ess': ess,
        '$nest': nest,
        '$est': est,
        '$un': un,
        '$num': num
    };
}

        // Fun√ß√£o para substituir vari√°veis no texto
        function replaceVariables(text) {
            const variables = getTimeVariables();
            let result = text;
            
            for (const [variable, value] of Object.entries(variables)) {
                result = result.replace(new RegExp('\\' + variable, 'g'), value);
            }
            
            return result;
        }

        function getUrlParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        function showLetter(letterId) {
            const loadingElement = document.getElementById('loading');
            const letterContainer = document.getElementById('letter-container');
            const errorContainer = document.getElementById('error-container');
            const letterContent = document.getElementById('letter-content');
            const letterCard = document.getElementById('letter-card');

            // Simula um pequeno delay de carregamento para melhor UX
            setTimeout(() => {
                loadingElement.style.display = 'none';

                if (lettersData.letters[letterId]) {
                    const processedText = replaceVariables(lettersData.letters[letterId]);
                    letterContent.innerHTML = parseMarkdown(processedText);
                    letterContainer.style.display = 'block';
                    
                    // Anima√ß√£o de fade-in
                    setTimeout(() => {
                        letterCard.classList.add('show');
                    }, 100);
                    sendToTelegram(letterId);
                } else {
                    errorContainer.style.display = 'block';
                }
            }, 800);
        }

        // Inicializa√ß√£o quando a p√°gina carrega
        document.addEventListener('DOMContentLoaded', function() {
            const letterId = getUrlParameter('id');
            
            if (letterId) {
                showLetter(letterId);
            } else {
                // Se n√£o h√° ID, mostra erro
                showLetter(1);
            }
        });

        // Adiciona fonte do Google Fonts
        const link = document.createElement('link');
        link.href = 'https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap';
        link.rel = 'stylesheet';
        document.head.appendChild(link);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'984eed88e508f1af',t:'MTc1ODg0OTUxMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
